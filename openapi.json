{
  "openapi": "3.1.0",
  "info": {
    "title": "Amber API",
    "description": "\n    **Amber \u2014 Preserving Context, Revealing Insight**\n\n    This API provides access to a hybrid retrieval system that combines\n    vector similarity search with knowledge graph reasoning to deliver\n    contextual, sourced, and high-quality answers over document collections.\n\n    ## Features\n\n    - **Document Ingestion**: Upload and process multi-format documents\n    - **Hybrid Retrieval**: Combine vector and graph-based search\n    - **Augmented Generation**: Generate grounded answers with citations\n    - **Full Observability**: Track every stage of processing\n\n    ## Authentication\n\n    All endpoints (except health checks) require an API key.\n    Pass your key in the `X-API-Key` header.\n    ",
    "version": "0.0.1-alpha"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Liveness Probe",
        "description": "Returns 200 if the process is alive. Used by Kubernetes liveness probes.",
        "operationId": "liveness_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LivenessResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Probe",
        "description": "Checks all dependencies and returns their status. Used by Kubernetes readiness probes. Pass ?silent=true to get 200 OK even if unhealthy (useful for frontend polling).",
        "operationId": "readiness_health_ready_get",
        "parameters": [
          {
            "name": "silent",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Silent"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All dependencies healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessResponse"
                }
              }
            }
          },
          "503": {
            "description": "One or more dependencies unhealthy"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Liveness Probe",
        "description": "Returns 200 if the process is alive. Used by Kubernetes liveness probes.",
        "operationId": "liveness_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LivenessResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Probe",
        "description": "Checks all dependencies and returns their status. Used by Kubernetes readiness probes. Pass ?silent=true to get 200 OK even if unhealthy (useful for frontend polling).",
        "operationId": "readiness_v1_health_ready_get",
        "parameters": [
          {
            "name": "silent",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Silent"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All dependencies healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessResponse"
                }
              }
            }
          },
          "503": {
            "description": "One or more dependencies unhealthy"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/query": {
      "post": {
        "tags": [
          "query"
        ],
        "summary": "Query the Knowledge Base",
        "description": "Submit a natural language query to retrieve relevant information\n    from the knowledge base.\n\n    **Phase 2 Implementation**: Vector retrieval with LLM answer generation.\n    - Embeds query and searches Milvus for relevant chunks\n    - Reranks results using FlashRank\n    - Generates answer with citations using LLM\n\n    **Structured Queries**: List/count queries are executed directly via Cypher\n    for instant responses without LLM generation.",
        "operationId": "query_v1_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Query response (can be QueryResponse or StructuredQueryResponse)",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/QueryResponse"
                    },
                    {
                      "$ref": "#/components/schemas/StructuredQueryResponse"
                    }
                  ],
                  "title": "Response Query V1 Query Post"
                },
                "examples": {
                  "rag_response": {
                    "summary": "RAG Response",
                    "value": {
                      "answer": "...",
                      "sources": [],
                      "timing": {}
                    }
                  },
                  "structured_response": {
                    "summary": "Structured Query Response",
                    "value": {
                      "query_type": "list_documents",
                      "data": [],
                      "count": 0
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/query/stream": {
      "get": {
        "tags": [
          "query"
        ],
        "summary": "Stream Query Response",
        "description": "Stream the query response using Server-Sent Events.",
        "operationId": "query_stream_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "agent_mode",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Agent Mode"
            }
          },
          {
            "name": "conversation_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "query"
        ],
        "summary": "Stream Query Response",
        "description": "Stream the query response using Server-Sent Events.",
        "operationId": "query_stream_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents": {
      "post": {
        "tags": [
          "documents"
        ],
        "summary": "Upload Document",
        "description": "Upload a document for ingestion into the knowledge base.\n\n    Returns 202 Accepted immediately with a document ID.\n    Use the events_url to monitor processing progress via SSE.",
        "operationId": "upload_document_v1_documents_post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_document_v1_documents_post"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "List Documents",
        "description": "List all documents in the knowledge base.",
        "operationId": "list_documents_v1_documents_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DocumentResponse"
                  },
                  "title": "Response List Documents V1 Documents Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/events": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Stream Document Events",
        "description": "Stream document processing events via SSE.\n\nSubscribes to Redis Pub/Sub channel for the document and streams\nstatus updates to the client.\n\nArgs:\n    document_id: ID of the document to monitor.\n\nReturns:\n    StreamingResponse: SSE stream of status updates.",
        "operationId": "stream_document_events_v1_documents__document_id__events_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document",
        "description": "Get details of a specific document including enrichment data and stats.",
        "operationId": "get_document_v1_documents__document_id__get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "documents"
        ],
        "summary": "Update Document",
        "description": "Update document details (e.g., title, folder).",
        "operationId": "update_document_v1_documents__document_id__patch",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "documents"
        ],
        "summary": "Delete Document",
        "description": "Delete a document from the knowledge base.",
        "operationId": "delete_document_v1_documents__document_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/communities": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document Communities",
        "description": "Get communities (entity clusters) associated with this document.",
        "operationId": "get_document_communities_v1_documents__document_id__communities_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Document Communities V1 Documents  Document Id  Communities Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/file": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document File",
        "description": "Download the original document file from storage.",
        "operationId": "get_document_file_v1_documents__document_id__file_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/entities": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document Entities",
        "description": "Get entities extracted from a specific document with pagination.",
        "operationId": "get_document_entities_v1_documents__document_id__entities_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Document Entities V1 Documents  Document Id  Entities Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/relationships": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document Relationships",
        "description": "Get relationships between entities in this document with pagination.",
        "operationId": "get_document_relationships_v1_documents__document_id__relationships_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Document Relationships V1 Documents  Document Id  Relationships Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/chunks": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document Chunks",
        "description": "Retrieve chunks for a specific document with pagination.\n\nArgs:\n    document_id: Document UUID\n    limit: Maximum number of chunks to return (default: 50)\n    offset: Number of chunks to skip (default: 0)\n    tenant_id: Tenant ID from context\n    session: Database session\n\nReturns:\n    Dict with chunks, total count, limit, and offset",
        "operationId": "get_document_chunks_paginated",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Document Chunks Paginated"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/similarities": {
      "get": {
        "tags": [
          "documents"
        ],
        "summary": "Get Document Similarities",
        "description": "Get similarity relationships between chunks within the document.",
        "operationId": "get_document_similarities_v1_documents__document_id__similarities_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get Document Similarities V1 Documents  Document Id  Similarities Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/folders": {
      "get": {
        "tags": [
          "folders"
        ],
        "summary": "List Folders",
        "description": "List all folders for the tenant.",
        "operationId": "list_folders_v1_folders_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FolderResponse"
                  },
                  "type": "array",
                  "title": "Response List Folders V1 Folders Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "folders"
        ],
        "summary": "Create Folder",
        "description": "Create a new folder.",
        "operationId": "create_folder_v1_folders_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FolderCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/folders/{folder_id}": {
      "delete": {
        "tags": [
          "folders"
        ],
        "summary": "Delete Folder",
        "description": "Delete a folder. \nDocuments in this folder are unfiled.",
        "operationId": "delete_folder_v1_folders__folder_id__delete",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Folder Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/{document_id}/chunks/{chunk_id}": {
      "put": {
        "tags": [
          "documents"
        ],
        "summary": "Update Chunk",
        "description": "Update a chunk's content and regenerate its embedding.",
        "operationId": "update_chunk_v1_documents__document_id__chunks__chunk_id__put",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "chunk_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chunk Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChunkUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "documents"
        ],
        "summary": "Delete Chunk",
        "description": "Delete a chunk from Postgres, Milvus, and Neo4j.",
        "operationId": "delete_chunk_v1_documents__document_id__chunks__chunk_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          },
          {
            "name": "chunk_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chunk Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/communities": {
      "get": {
        "tags": [
          "Communities"
        ],
        "summary": "List Communities",
        "description": "List all communities for the current tenant.",
        "operationId": "list_communities_v1_communities_get",
        "parameters": [
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by hierarchy level",
              "title": "Level"
            },
            "description": "Filter by hierarchy level"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommunityResponse"
                  },
                  "title": "Response List Communities V1 Communities Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/communities/{community_id}": {
      "get": {
        "tags": [
          "Communities"
        ],
        "summary": "Get Community",
        "description": "Get detailed information for a specific community.",
        "operationId": "get_community_v1_communities__community_id__get",
        "parameters": [
          {
            "name": "community_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Community Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/communities/refresh": {
      "post": {
        "tags": [
          "Communities"
        ],
        "summary": "Trigger Community Refresh",
        "description": "Manually trigger community detection and summarization for the tenant.",
        "operationId": "trigger_community_refresh_v1_communities_refresh_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/top": {
      "get": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Get Top Nodes",
        "description": "Get top connected nodes for initial view.",
        "operationId": "get_top_nodes_v1_graph_editor_top_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 15,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GraphNode"
                  },
                  "title": "Response Get Top Nodes V1 Graph Editor Top Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/search": {
      "get": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Search Nodes",
        "description": "Search nodes by name or description.",
        "operationId": "search_nodes_v1_graph_editor_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GraphNode"
                  },
                  "title": "Response Search Nodes V1 Graph Editor Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/neighborhood": {
      "get": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Get Node Neighborhood",
        "description": "Get node neighborhood (nodes + edges).",
        "operationId": "get_node_neighborhood_v1_graph_editor_neighborhood_get",
        "parameters": [
          {
            "name": "node_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Node Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphData"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/heal": {
      "post": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Heal Node",
        "description": "Suggest connections for a node based on Native Contextual Healing.\nStrategy:\n1. Find chunks linked to the node.\n2. Get vectors for those chunks from Milvus.\n3. Find similar chunks.\n4. Suggest entities from similar chunks.",
        "operationId": "heal_node_v1_graph_editor_heal_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HealRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/HealingSuggestion"
                  },
                  "type": "array",
                  "title": "Response Heal Node V1 Graph Editor Heal Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/nodes/merge": {
      "post": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Merge Nodes",
        "description": "Merge source nodes into target node.",
        "operationId": "merge_nodes_v1_graph_editor_nodes_merge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/edge": {
      "post": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Create Edge",
        "description": "Create a relationship.",
        "operationId": "create_edge_v1_graph_editor_edge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EdgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Delete Edge",
        "description": "Delete a relationship.",
        "operationId": "delete_edge_v1_graph_editor_edge_delete",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EdgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/editor/node/{node_id}": {
      "delete": {
        "tags": [
          "Graph Editor"
        ],
        "summary": "Delete Node",
        "description": "Delete a node and its relationships.",
        "operationId": "delete_node_v1_graph_editor_node__node_id__delete",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/history": {
      "get": {
        "tags": [
          "Graph History"
        ],
        "summary": "List History",
        "description": "List graph edit history (paginated, filterable by status).",
        "operationId": "list_history_v1_graph_history_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphEditHistoryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Graph History"
        ],
        "summary": "Create Pending Edit",
        "description": "Create a new pending graph edit (record without applying).",
        "operationId": "create_pending_edit_v1_graph_history_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GraphEditHistoryCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphEditHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/history/pending/count": {
      "get": {
        "tags": [
          "Graph History"
        ],
        "summary": "Get Pending Count",
        "description": "Get count of pending edits (for badge display).",
        "operationId": "get_pending_count_v1_graph_history_pending_count_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/graph/history/{edit_id}/apply": {
      "post": {
        "tags": [
          "Graph History"
        ],
        "summary": "Apply Pending Edit",
        "description": "Apply a pending edit (execute the action).",
        "operationId": "apply_pending_edit_v1_graph_history__edit_id__apply_post",
        "parameters": [
          {
            "name": "edit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Edit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/history/{edit_id}": {
      "delete": {
        "tags": [
          "Graph History"
        ],
        "summary": "Reject Pending Edit",
        "description": "Reject/discard a pending edit.",
        "operationId": "reject_pending_edit_v1_graph_history__edit_id__delete",
        "parameters": [
          {
            "name": "edit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Edit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/graph/history/{edit_id}/undo": {
      "post": {
        "tags": [
          "Graph History"
        ],
        "summary": "Undo Applied Edit",
        "description": "Undo an applied edit (requires snapshot).",
        "operationId": "undo_applied_edit_v1_graph_history__edit_id__undo_post",
        "parameters": [
          {
            "name": "edit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Edit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/feedback/": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Create Feedback",
        "description": "Submit feedback for a RAG response.",
        "operationId": "create_feedback_v1_feedback__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedbackCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_FeedbackResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/feedback/{request_id}": {
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get Feedback",
        "description": "Get feedback for a specific request with pagination.\n\nArgs:\n    request_id: Request UUID\n    limit: Maximum number of feedback items to return (default: 50)\n    offset: Number of feedback items to skip (default: 0)\n\nReturns:\n    Paginated feedback response with items, total, limit, and offset",
        "operationId": "get_feedback_v1_feedback__request_id__get",
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_dict_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/": {
      "get": {
        "tags": [
          "connectors"
        ],
        "summary": "List Available Connectors",
        "description": "List all available connector types.",
        "operationId": "list_available_connectors_v1_connectors__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_list_str__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_type}/status": {
      "get": {
        "tags": [
          "connectors"
        ],
        "summary": "Get Connector Status",
        "description": "Get the status of a specific connector.",
        "operationId": "get_connector_status_v1_connectors__connector_type__status_get",
        "parameters": [
          {
            "name": "connector_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_ConnectorStatusResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_type}/auth": {
      "post": {
        "tags": [
          "connectors"
        ],
        "summary": "Authenticate Connector",
        "description": "Authenticate a connector with external service.\n\nCredentials vary by connector type:\n- zendesk: {subdomain, email, api_token}\n- confluence: {base_url, email, api_token}",
        "operationId": "authenticate_connector_v1_connectors__connector_type__auth_post",
        "parameters": [
          {
            "name": "connector_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Type"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectorAuthRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_ConnectorStatusResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_type}/sync": {
      "post": {
        "tags": [
          "connectors"
        ],
        "summary": "Trigger Sync",
        "description": "Trigger a sync operation for a connector.\n\nReturns immediately with a job ID. Use GET /status to check progress.",
        "operationId": "trigger_sync_v1_connectors__connector_type__sync_post",
        "parameters": [
          {
            "name": "connector_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Type"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectorSyncRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_SyncJobResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_type}/items": {
      "get": {
        "tags": [
          "connectors"
        ],
        "summary": "List Connector Items",
        "description": "List items from a connector (browse content).",
        "operationId": "list_connector_items_v1_connectors__connector_type__items_get",
        "parameters": [
          {
            "name": "connector_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Type"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_dict_str__Any__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/connectors/{connector_type}/ingest": {
      "post": {
        "tags": [
          "connectors"
        ],
        "summary": "Ingest Selected Items",
        "description": "Ingest specific items by ID.",
        "operationId": "ingest_selected_items_v1_connectors__connector_type__ingest_post",
        "parameters": [
          {
            "name": "connector_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Connector Type"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IngestItemsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_SyncJobResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/seed-sample-data": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Seed Sample Data",
        "description": "Seed sample data for onboarding and demos.\n\nAvailable datasets:\n- solar_system: Educational content about planets\n- technology: Technical documentation about AI/ML",
        "operationId": "seed_sample_data_v1_admin_seed_sample_data_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_SeedResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/sample-datasets": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Sample Datasets",
        "description": "List available sample datasets.",
        "operationId": "list_sample_datasets_v1_admin_sample_datasets_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_dict_"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/jobs": {
      "get": {
        "tags": [
          "admin",
          "admin-jobs"
        ],
        "summary": "List Jobs",
        "description": "List active and recent Celery tasks.\n\nReturns a list of tasks with their current status, progress, and metadata.",
        "operationId": "list_jobs_v1_admin_jobs_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/JobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "task_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by task type (e.g., 'process_document')",
              "title": "Task Type"
            },
            "description": "Filter by task type (e.g., 'process_document')"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum results",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum results"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/jobs/{task_id}": {
      "get": {
        "tags": [
          "admin",
          "admin-jobs"
        ],
        "summary": "Get Job",
        "description": "Get detailed information about a specific task.\n\nReturns the task's current status, progress, result, or error.",
        "operationId": "get_job_v1_admin_jobs__task_id__get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/jobs/{task_id}/cancel": {
      "post": {
        "tags": [
          "admin",
          "admin-jobs"
        ],
        "summary": "Cancel Job",
        "description": "Cancel or revoke a task.\n\n- For pending tasks: Removes from queue\n- For running tasks: Sends revoke signal (use terminate=True to force kill)",
        "operationId": "cancel_job_v1_admin_jobs__task_id__cancel_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Task Id"
            }
          },
          {
            "name": "terminate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force terminate if running",
              "default": false,
              "title": "Terminate"
            },
            "description": "Force terminate if running"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/jobs/queues/status": {
      "get": {
        "tags": [
          "admin",
          "admin-jobs"
        ],
        "summary": "Get Queue Status",
        "description": "Get queue depths and worker status.\n\nReturns information about all registered queues and connected workers.",
        "operationId": "get_queue_status_v1_admin_jobs_queues_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueuesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/config/schema": {
      "get": {
        "tags": [
          "admin",
          "admin-config"
        ],
        "summary": "Get Config Schema",
        "description": "Get configuration schema for dynamic form generation.\n\nReturns field definitions with types, constraints, and groupings\nfor rendering the tuning panel UI.",
        "operationId": "get_config_schema_v1_admin_config_schema_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigSchemaResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/config/prompts/defaults": {
      "get": {
        "tags": [
          "admin",
          "admin-config"
        ],
        "summary": "Get Default Prompts",
        "description": "Get default prompt templates.\n\nReturns all built-in prompts that are used when no tenant override is set.\nThese serve as the baseline/fallback for all prompt fields.",
        "operationId": "get_default_prompts_v1_admin_config_prompts_defaults_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultPromptsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/config/tenants/{tenant_id}": {
      "get": {
        "tags": [
          "admin",
          "admin-config"
        ],
        "summary": "Get Tenant Config",
        "description": "Get configuration for a specific tenant.\n\nReturns all tunable parameters and their current values.",
        "operationId": "get_tenant_config_v1_admin_config_tenants__tenant_id__get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin",
          "admin-config"
        ],
        "summary": "Update Tenant Config",
        "description": "Update configuration for a specific tenant.\n\nOnly provided fields are updated; others remain unchanged.\nChanges take effect immediately for subsequent requests.",
        "operationId": "update_tenant_config_v1_admin_config_tenants__tenant_id__put",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/config/tenants/{tenant_id}/reset": {
      "post": {
        "tags": [
          "admin",
          "admin-config"
        ],
        "summary": "Reset Tenant Config",
        "description": "Reset tenant configuration to defaults.\n\nRemoves all custom configuration, reverting to system defaults.",
        "operationId": "reset_tenant_config_v1_admin_config_tenants__tenant_id__reset_post",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/curation/flags": {
      "get": {
        "tags": [
          "admin",
          "admin-curation"
        ],
        "summary": "List Flags",
        "description": "List flags in the curation queue.\n\nReturns paginated list of analyst-reported issues with filtering options.",
        "operationId": "list_flags_v1_admin_curation_flags_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "flag_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by type",
              "title": "Flag Type"
            },
            "description": "Filter by type"
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tenant",
              "title": "Tenant Id"
            },
            "description": "Filter by tenant"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlagListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin",
          "admin-curation"
        ],
        "summary": "Create Flag",
        "description": "Create a new flag (for testing or manual flagging).\n\nIn production, flags are typically created from the Analyst UI's feedback buttons.",
        "operationId": "create_flag_v1_admin_curation_flags_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlagCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/curation/flags/{flag_id}": {
      "get": {
        "tags": [
          "admin",
          "admin-curation"
        ],
        "summary": "Get Flag",
        "description": "Get detailed information about a specific flag.\n\nReturns full context including source chunk, query, and retrieval trace.",
        "operationId": "get_flag_v1_admin_curation_flags__flag_id__get",
        "parameters": [
          {
            "name": "flag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Flag Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlagDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin",
          "admin-curation"
        ],
        "summary": "Resolve Flag",
        "description": "Resolve a flag with an action.\n\nActions:\n- `accept`: Accept the flag and apply correction\n- `reject`: Reject the flag (false positive)\n- `merge`: Merge entities (requires merge_target_id)",
        "operationId": "resolve_flag_v1_admin_curation_flags__flag_id__put",
        "parameters": [
          {
            "name": "flag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Flag Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlagResolution"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlagDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/curation/stats": {
      "get": {
        "tags": [
          "admin",
          "admin-curation"
        ],
        "summary": "Get Curation Stats",
        "description": "Get curation queue statistics with optimized queries and caching.\n\nReturns counts by status and type, plus resolution time metrics.",
        "operationId": "get_curation_stats_v1_admin_curation_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurationStats"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/metrics/queries": {
      "get": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Get Query Metrics",
        "description": "Get recent query metrics for debugging.\n\nReturns detailed logs of recent queries including latency, tokens, cost, and errors.",
        "operationId": "get_query_metrics_v1_admin_maintenance_metrics_queries_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {},
                  "title": "Response Get Query Metrics V1 Admin Maintenance Metrics Queries Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/stats": {
      "get": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Get System Stats",
        "description": "Get comprehensive system statistics.\n\nReturns counts and metrics from database, cache, and vector store.",
        "operationId": "get_system_stats_v1_admin_maintenance_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemStats"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/cache/clear": {
      "post": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Clear Cache",
        "description": "Clear Redis cache.\n\n- Without pattern: Clears all cache keys\n- With pattern: Clears matching keys (e.g., \"query:*\", \"embed:*\")",
        "operationId": "clear_cache_v1_admin_maintenance_cache_clear_post",
        "parameters": [
          {
            "name": "pattern",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Pattern"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaintenanceResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/prune/orphans": {
      "post": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Prune Orphans",
        "description": "Remove orphan nodes from the graph.\n\nFinds and removes:\n- Entities not connected to any chunks\n- Chunks not connected to any documents\n- Communities with no members",
        "operationId": "prune_orphans_v1_admin_maintenance_prune_orphans_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaintenanceResult"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/prune/stale-communities": {
      "post": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Prune Stale Communities",
        "description": "Remove stale community summaries.\n\nRemoves community summaries older than the specified age that haven't been refreshed.",
        "operationId": "prune_stale_communities_v1_admin_maintenance_prune_stale_communities_post",
        "parameters": [
          {
            "name": "max_age_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": "Max Age Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaintenanceResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/reconciliation": {
      "get": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Get Reconciliation Status",
        "description": "Get dual-write reconciliation status.\n\nShows sync health between primary (Neo4j) and secondary (Milvus) stores.",
        "operationId": "get_reconciliation_status_v1_admin_maintenance_reconciliation_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReconciliationStatus"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/reindex": {
      "post": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Trigger Reindex",
        "description": "Trigger vector index rebuild.\n\n- Without collection: Rebuilds all indexes\n- With collection: Rebuilds specific collection\n\nThis is an async operation - check task status via /admin/jobs.",
        "operationId": "trigger_reindex_v1_admin_maintenance_reindex_post",
        "parameters": [
          {
            "name": "collection",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Collection"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaintenanceResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/vectors/collections": {
      "get": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Get Vector Collections",
        "description": "Get detailed information about all Milvus collections.\n\nReturns collection stats without loading collections into memory.\nUsed by the Vector Store admin page.",
        "operationId": "get_vector_collections_v1_admin_maintenance_vectors_collections_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorCollectionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/maintenance/vectors/collections/{collection_name}": {
      "delete": {
        "tags": [
          "admin",
          "admin-maintenance"
        ],
        "summary": "Delete Vector Collection",
        "description": "Delete a Milvus vector collection.\n\nWARNING: This permanently deletes all vectors in the collection.",
        "operationId": "delete_vector_collection_v1_admin_maintenance_vectors_collections__collection_name__delete",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaintenanceResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/chat/history": {
      "get": {
        "tags": [
          "admin",
          "Admin - Chat History"
        ],
        "summary": "List Chat History",
        "description": "List recent chat conversations.\n\nPrivacy Rules:\n- Admins can see metadata for all conversations.\n- Query/Response content is REDACTED unless the conversation has user feedback.",
        "operationId": "list_chat_history_v1_admin_chat_history_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/chat/history/{request_id}": {
      "get": {
        "tags": [
          "admin",
          "Admin - Chat History"
        ],
        "summary": "Get Conversation Detail",
        "description": "Get full details for a specific conversation.\n\nPrivacy Rules:\n- Query/Response content is REDACTED unless the conversation has user feedback.",
        "operationId": "get_conversation_detail_v1_admin_chat_history__request_id__get",
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "Admin - Chat History"
        ],
        "summary": "Delete Conversation",
        "description": "Delete a specific conversation.",
        "operationId": "delete_conversation_v1_admin_chat_history__request_id__delete",
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/stats": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Get Ragas Stats",
        "description": "Get overall Ragas benchmark statistics.",
        "operationId": "get_ragas_stats_v1_admin_ragas_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BenchmarkStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/datasets": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "List Datasets",
        "description": "List available golden datasets.",
        "operationId": "list_datasets_v1_admin_ragas_datasets_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/DatasetInfo"
                  },
                  "type": "array",
                  "title": "Response List Datasets V1 Admin Ragas Datasets Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Upload Dataset",
        "description": "Upload a new golden dataset (JSON or CSV file).\n\nExpected columns/fields:\n- query/question: The input question\n- ground_truth/ground_truths: Expected correct answer(s)\n- Optional: contexts (for pre-computed retrieval)",
        "operationId": "upload_dataset_v1_admin_ragas_datasets_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_dataset_v1_admin_ragas_datasets_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/datasets/{filename}": {
      "delete": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Delete Dataset",
        "description": "Delete an uploaded dataset.",
        "operationId": "delete_dataset_v1_admin_ragas_datasets__filename__delete",
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/run-benchmark": {
      "post": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Run Benchmark",
        "description": "Trigger a new Ragas benchmark run.",
        "operationId": "run_benchmark_v1_admin_ragas_run_benchmark_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunBenchmarkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunBenchmarkResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/runs/{run_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Delete Benchmark Run",
        "description": "Delete a benchmark run.",
        "operationId": "delete_benchmark_run_v1_admin_ragas_runs__run_id__delete",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/job/{job_id}": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Get Benchmark Job",
        "description": "Get status and results of a benchmark run.",
        "operationId": "get_benchmark_job_v1_admin_ragas_job__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BenchmarkRunDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/comparison": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "Compare Runs",
        "description": "Compare results across multiple benchmark runs.",
        "operationId": "compare_runs_v1_admin_ragas_comparison_get",
        "parameters": [
          {
            "name": "run_ids",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Ids"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ragas/runs": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "ragas"
        ],
        "summary": "List Benchmark Runs",
        "description": "List benchmark runs with optional filtering.",
        "operationId": "list_benchmark_runs_v1_admin_ragas_runs_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BenchmarkRunSummary"
                  },
                  "title": "Response List Benchmark Runs V1 Admin Ragas Runs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/keys/me": {
      "get": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Get My Key Info",
        "description": "Get info about the current API key being used.",
        "operationId": "get_my_key_info_v1_admin_keys_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/keys": {
      "get": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "List Api Keys",
        "description": "List all active API keys.",
        "operationId": "list_api_keys_v1_admin_keys_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ApiKeyResponse"
                  },
                  "type": "array",
                  "title": "Response List Api Keys V1 Admin Keys Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Create Api Key",
        "description": "Generate a new API key.\nThe secret key is returned only in this response and cannot be retrieved later.",
        "operationId": "create_api_key_v1_admin_keys_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateKeyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreatedKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/keys/{key_id}": {
      "patch": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Update Api Key",
        "description": "Update an existing API key's name or scopes.",
        "operationId": "update_api_key_v1_admin_keys__key_id__patch",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateKeyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Revoke Api Key",
        "description": "Revoke (deactivate) an API key.",
        "operationId": "revoke_api_key_v1_admin_keys__key_id__delete",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/keys/{key_id}/tenants": {
      "post": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Link Key To Tenant",
        "description": "Link an API key to a tenant.",
        "operationId": "link_key_to_tenant_v1_admin_keys__key_id__tenants_post",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KeyTenantLink"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/keys/{key_id}/tenants/{tenant_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin-keys"
        ],
        "summary": "Unlink Key From Tenant",
        "description": "Unlink an API key from a tenant.",
        "operationId": "unlink_key_from_tenant_v1_admin_keys__key_id__tenants__tenant_id__delete",
        "parameters": [
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key Id"
            }
          },
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tenants": {
      "get": {
        "tags": [
          "admin",
          "admin-tenants"
        ],
        "summary": "List Tenants",
        "operationId": "list_tenants_v1_admin_tenants_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TenantResponse"
                  },
                  "title": "Response List Tenants V1 Admin Tenants Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin",
          "admin-tenants"
        ],
        "summary": "Create Tenant",
        "operationId": "create_tenant_v1_admin_tenants_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tenants/{tenant_id}": {
      "get": {
        "tags": [
          "admin",
          "admin-tenants"
        ],
        "summary": "Get Tenant",
        "operationId": "get_tenant_v1_admin_tenants__tenant_id__get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "admin",
          "admin-tenants"
        ],
        "summary": "Update Tenant",
        "operationId": "update_tenant_v1_admin_tenants__tenant_id__patch",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "admin-tenants"
        ],
        "summary": "Delete Tenant",
        "operationId": "delete_tenant_v1_admin_tenants__tenant_id__delete",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/pending": {
      "get": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Get Pending Feedback",
        "description": "List positive feedback waiting for review.",
        "operationId": "get_pending_feedback_v1_admin_feedback_pending_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_list_dict__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/{feedback_id}/verify": {
      "post": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Verify Feedback",
        "description": "Mark feedback as VERIFIED and compute query embedding for similarity search.",
        "operationId": "verify_feedback_v1_admin_feedback__feedback_id__verify_post",
        "parameters": [
          {
            "name": "feedback_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feedback Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_bool_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/{feedback_id}/reject": {
      "post": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Reject Feedback",
        "description": "Mark feedback as REJECTED.",
        "operationId": "reject_feedback_v1_admin_feedback__feedback_id__reject_post",
        "parameters": [
          {
            "name": "feedback_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feedback Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_bool_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/export": {
      "get": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Export Golden Dataset",
        "description": "Export VERIFIED feedback as a JSONL dataset.",
        "operationId": "export_golden_dataset_v1_admin_feedback_export_get",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "jsonl",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/approved": {
      "get": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Get Approved Feedback",
        "description": "List all VERIFIED Q&A pairs for the Q&A Library.",
        "operationId": "get_approved_feedback_v1_admin_feedback_approved_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_list_dict__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/{feedback_id}/toggle-active": {
      "put": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Toggle Feedback Active",
        "description": "Toggle whether a verified Q&A is active (used for injection).",
        "operationId": "toggle_feedback_active_v1_admin_feedback__feedback_id__toggle_active_put",
        "parameters": [
          {
            "name": "feedback_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feedback Id"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean",
              "title": "Is Active"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_bool_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/feedback/{feedback_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin-feedback"
        ],
        "summary": "Delete Feedback",
        "description": "Delete a feedback item from the library.",
        "operationId": "delete_feedback_v1_admin_feedback__feedback_id__delete",
        "parameters": [
          {
            "name": "feedback_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feedback Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_bool_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/rules/": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "rules"
        ],
        "summary": "List Rules",
        "description": "List all global rules.",
        "operationId": "list_rules_v1_admin_rules__get",
        "parameters": [
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Inactive"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_list_RuleResponse__"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin",
          "admin",
          "rules"
        ],
        "summary": "Create Rule",
        "description": "Create a new global rule.",
        "operationId": "create_rule_v1_admin_rules__post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_RuleResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/rules/{rule_id}": {
      "put": {
        "tags": [
          "admin",
          "admin",
          "rules"
        ],
        "summary": "Update Rule",
        "description": "Update a global rule.",
        "operationId": "update_rule_v1_admin_rules__rule_id__put",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RuleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_RuleResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin",
          "admin",
          "rules"
        ],
        "summary": "Delete Rule",
        "description": "Delete a global rule.",
        "operationId": "delete_rule_v1_admin_rules__rule_id__delete",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_dict_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/rules/upload": {
      "post": {
        "tags": [
          "admin",
          "admin",
          "rules"
        ],
        "summary": "Upload Rules File",
        "description": "Upload a rules.txt file. Each non-empty line becomes a rule.\n\nArgs:\n    file: Text file with one rule per line\n    replace_existing: If true, deletes all existing file-sourced rules first",
        "operationId": "upload_rules_file_v1_admin_rules_upload_post",
        "parameters": [
          {
            "name": "replace_existing",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Replace Existing"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_rules_file_v1_admin_rules_upload_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_dict_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/context-graph/stats": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "context-graph"
        ],
        "summary": "Get Context Graph Stats",
        "description": "Get overall statistics of the Context Graph.",
        "operationId": "get_context_graph_stats_v1_admin_context_graph_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextGraphStats"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/context-graph/feedback": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "context-graph"
        ],
        "summary": "List Graph Feedback",
        "description": "List feedback from the Context Graph with related turn and chunk info.",
        "operationId": "list_graph_feedback_v1_admin_context_graph_feedback_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FeedbackGraphItem"
                  },
                  "title": "Response List Graph Feedback V1 Admin Context Graph Feedback Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/context-graph/feedback/{feedback_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin",
          "context-graph"
        ],
        "summary": "Delete Graph Feedback",
        "description": "Remove a feedback node and its relationships from the Context Graph.",
        "operationId": "delete_graph_feedback_v1_admin_context_graph_feedback__feedback_id__delete",
        "parameters": [
          {
            "name": "feedback_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feedback Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/context-graph/chunk/{chunk_id}/impact": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "context-graph"
        ],
        "summary": "Get Chunk Feedback Impact",
        "description": "Get the feedback impact score for a specific chunk.",
        "operationId": "get_chunk_feedback_impact_v1_admin_context_graph_chunk__chunk_id__impact_get",
        "parameters": [
          {
            "name": "chunk_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chunk Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/context-graph/conversations": {
      "get": {
        "tags": [
          "admin",
          "admin",
          "context-graph"
        ],
        "summary": "List Conversations",
        "description": "List conversations from the Context Graph.",
        "operationId": "list_conversations_v1_admin_context_graph_conversations_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConversationGraphItem"
                  },
                  "title": "Response List Conversations V1 Admin Context Graph Conversations Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/retention/facts": {
      "get": {
        "tags": [
          "admin",
          "admin-retention"
        ],
        "summary": "List Facts",
        "description": "List stored user facts with pagination and filtering.",
        "operationId": "list_facts_v1_admin_retention_facts_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Tenant Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/retention/facts/{fact_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin-retention"
        ],
        "summary": "Delete Fact",
        "description": "Delete a specific user fact.",
        "operationId": "delete_fact_v1_admin_retention_facts__fact_id__delete",
        "parameters": [
          {
            "name": "fact_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Fact Id"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/retention/summaries": {
      "get": {
        "tags": [
          "admin",
          "admin-retention"
        ],
        "summary": "List Summaries",
        "description": "List conversation summaries with pagination.",
        "operationId": "list_summaries_v1_admin_retention_summaries_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Tenant Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/retention/summaries/{summary_id}": {
      "delete": {
        "tags": [
          "admin",
          "admin-retention"
        ],
        "summary": "Delete Summary",
        "description": "Delete a conversation summary.",
        "operationId": "delete_summary_v1_admin_retention_summaries__summary_id__delete",
        "parameters": [
          {
            "name": "summary_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Summary Id"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "default",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/embeddings/check": {
      "get": {
        "tags": [
          "admin",
          "admin-embeddings"
        ],
        "summary": "Check Embedding Compatibility",
        "description": "Check if the configured embedding model matches the stored data configuration for all tenants.",
        "operationId": "check_embedding_compatibility_v1_admin_embeddings_check_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_List_Any__"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/embeddings/migrate": {
      "post": {
        "tags": [
          "admin",
          "admin-embeddings"
        ],
        "summary": "Migrate Embeddings",
        "description": "Trigger a destructive migration for a tenant.\nDrops current vector collection and triggers re-ingestion.",
        "operationId": "migrate_embeddings_v1_admin_embeddings_migrate_post",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_Any_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/embeddings/migration-status": {
      "get": {
        "tags": [
          "admin",
          "admin-embeddings"
        ],
        "summary": "Get Migration Status",
        "description": "Get the current migration and reprocessing status for a tenant.\nProgress tracks document re-processing from INGESTED -> READY.",
        "operationId": "get_migration_status_v1_admin_embeddings_migration_status_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_Any_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/embeddings/cancel-migration": {
      "post": {
        "tags": [
          "admin",
          "admin-embeddings"
        ],
        "summary": "Cancel Migration",
        "description": "Cancel an in-progress migration.\nNote: This only stops tracking; already-queued documents will still process.",
        "operationId": "cancel_migration_v1_admin_embeddings_cancel_migration_post",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseSchema_Any_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/providers/available": {
      "get": {
        "tags": [
          "admin",
          "admin-providers"
        ],
        "summary": "Get Available Providers",
        "description": "Get all available LLM and embedding providers.\n\nReturns only providers that have valid configuration (API keys, connectivity).\nFor each provider, returns the list of available models.",
        "operationId": "get_available_providers_v1_admin_providers_available_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableProvidersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/providers/validate": {
      "post": {
        "tags": [
          "admin",
          "admin-providers"
        ],
        "summary": "Validate Provider",
        "description": "Validate a specific provider's connectivity.\n\nUsed for retry functionality when a provider connection fails.",
        "operationId": "validate_provider_v1_admin_providers_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateProviderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/status": {
      "get": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Get Setup Status",
        "description": "Get current setup status and installed features.",
        "operationId": "get_setup_status_v1_setup_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/install": {
      "post": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Install Features",
        "description": "Install optional features.",
        "operationId": "install_features_v1_setup_install_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchInstallRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Install Features V1 Setup Install Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/skip": {
      "post": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Skip Setup",
        "description": "Mark the setup wizard as complete.",
        "operationId": "skip_setup_v1_setup_skip_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/setup/install/events": {
      "get": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Install Events Stream",
        "description": "SSE endpoint for streaming installation progress.\n\nArgs:\n    feature_ids: Comma-separated list of feature IDs to install.\n\nReturns:\n    EventSourceResponse streaming progress events.",
        "operationId": "install_events_stream_v1_setup_install_events_get",
        "parameters": [
          {
            "name": "feature_ids",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feature Ids"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/setup/db/status": {
      "get": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Get Db Status",
        "description": "Check if the database is up to date with migrations.",
        "operationId": "get_db_status_v1_setup_db_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/setup/db/migrate": {
      "post": {
        "tags": [
          "admin-setup"
        ],
        "summary": "Run Db Migration",
        "description": "Run database migrations (alembic upgrade head).",
        "operationId": "run_db_migration_v1_setup_db_migrate_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/export/conversation/{conversation_id}": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Export Conversation",
        "description": "Export a single conversation as a ZIP file.\n\nThe ZIP contains:\n- transcript.txt: Human-readable conversation text\n- metadata.json: Chunks and document references\n- documents/: Referenced source documents\n\nThis is a synchronous operation - the ZIP is generated and streamed directly.",
        "operationId": "export_conversation_v1_export_conversation__conversation_id__get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/export/all": {
      "post": {
        "tags": [
          "export"
        ],
        "summary": "Start Export All",
        "description": "Start an async job to export all conversations.\n\nThis creates a background job that will:\n1. Generate a ZIP containing all conversations\n2. Upload it to storage\n3. Make it available for download\n\nPoll /export/job/{job_id} to check status and get download URL.",
        "operationId": "start_export_all_v1_export_all_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StartExportResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/export/job/{job_id}": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Get Export Job Status",
        "description": "Get the status of an export job.\n\nReturns current status, and if completed, includes download URL.",
        "operationId": "get_export_job_status_v1_export_job__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportJobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "export"
        ],
        "summary": "Cancel Export Job",
        "description": "Cancel or delete an export job.\n\n- For pending/running jobs: marks as cancelled\n- For completed jobs: deletes the job record and any stored files\n- For failed jobs: deletes the job record",
        "operationId": "cancel_export_job_v1_export_job__job_id__delete",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/export/job/{job_id}/download": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Download Export",
        "description": "Download the completed export ZIP.\n\nOnly available after job status is 'completed'.",
        "operationId": "download_export_v1_export_job__job_id__download_get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "prefix": {
            "type": "string",
            "title": "Prefix"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "default": []
          },
          "tenants": {
            "items": {
              "$ref": "#/components/schemas/ApiKeyTenantInfo"
            },
            "type": "array",
            "title": "Tenants",
            "default": []
          },
          "last_chars": {
            "type": "string",
            "title": "Last Chars"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "prefix",
          "is_active",
          "last_chars",
          "created_at"
        ],
        "title": "ApiKeyResponse",
        "description": "API Key details (masked)."
      },
      "ApiKeyTenantInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "ApiKeyTenantInfo"
      },
      "AvailableProvidersResponse": {
        "properties": {
          "llm_providers": {
            "items": {
              "$ref": "#/components/schemas/ProviderInfo"
            },
            "type": "array",
            "title": "Llm Providers"
          },
          "embedding_providers": {
            "items": {
              "$ref": "#/components/schemas/ProviderInfo"
            },
            "type": "array",
            "title": "Embedding Providers"
          }
        },
        "type": "object",
        "required": [
          "llm_providers",
          "embedding_providers"
        ],
        "title": "AvailableProvidersResponse",
        "description": "Response with all available providers."
      },
      "BatchInstallRequest": {
        "properties": {
          "feature_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Feature Ids"
          }
        },
        "type": "object",
        "required": [
          "feature_ids"
        ],
        "title": "BatchInstallRequest",
        "description": "Request to install multiple features."
      },
      "BenchmarkRunDetail": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "metrics": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "details": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "dataset_name",
          "status",
          "metrics",
          "started_at",
          "completed_at",
          "created_at",
          "details",
          "config",
          "error_message"
        ],
        "title": "BenchmarkRunDetail",
        "description": "Detailed benchmark run with per-sample results."
      },
      "BenchmarkRunSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "metrics": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "dataset_name",
          "status",
          "metrics",
          "started_at",
          "completed_at",
          "created_at"
        ],
        "title": "BenchmarkRunSummary",
        "description": "Summary of a benchmark run."
      },
      "BenchmarkStatsResponse": {
        "properties": {
          "total_runs": {
            "type": "integer",
            "title": "Total Runs"
          },
          "completed_runs": {
            "type": "integer",
            "title": "Completed Runs"
          },
          "failed_runs": {
            "type": "integer",
            "title": "Failed Runs"
          },
          "avg_faithfulness": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Faithfulness"
          },
          "avg_relevancy": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Relevancy"
          }
        },
        "type": "object",
        "required": [
          "total_runs",
          "completed_runs",
          "failed_runs",
          "avg_faithfulness",
          "avg_relevancy"
        ],
        "title": "BenchmarkStatsResponse",
        "description": "Aggregate statistics for benchmarks."
      },
      "Body_upload_dataset_v1_admin_ragas_datasets_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_dataset_v1_admin_ragas_datasets_post"
      },
      "Body_upload_document_v1_documents_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Document file to upload"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "Tenant ID (optional, uses default)"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_document_v1_documents_post"
      },
      "Body_upload_rules_file_v1_admin_rules_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_rules_file_v1_admin_rules_upload_post"
      },
      "CacheStats": {
        "properties": {
          "memory_used_bytes": {
            "type": "integer",
            "title": "Memory Used Bytes",
            "default": 0
          },
          "memory_max_bytes": {
            "type": "integer",
            "title": "Memory Max Bytes",
            "default": 0
          },
          "memory_usage_percent": {
            "type": "number",
            "title": "Memory Usage Percent",
            "default": 0
          },
          "keys_total": {
            "type": "integer",
            "title": "Keys Total",
            "default": 0
          },
          "hit_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hit Rate"
          },
          "miss_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Miss Rate"
          },
          "evictions": {
            "type": "integer",
            "title": "Evictions",
            "default": 0
          }
        },
        "type": "object",
        "title": "CacheStats",
        "description": "Cache statistics."
      },
      "CancelResponse": {
        "properties": {
          "task_id": {
            "type": "string",
            "title": "Task Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "status",
          "message"
        ],
        "title": "CancelResponse",
        "description": "Cancel task response."
      },
      "ChatHistoryItem": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "query_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query Text"
          },
          "response_preview": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Preview"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "cost": {
            "type": "number",
            "title": "Cost"
          },
          "has_feedback": {
            "type": "boolean",
            "title": "Has Feedback"
          },
          "feedback_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback Score"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "tenant_id",
          "model",
          "provider",
          "total_tokens",
          "cost",
          "has_feedback",
          "created_at"
        ],
        "title": "ChatHistoryItem",
        "description": "Single chat history entry."
      },
      "ChatHistoryResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ChatHistoryItem"
            },
            "type": "array",
            "title": "Conversations"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "conversations",
          "total",
          "limit",
          "offset"
        ],
        "title": "ChatHistoryResponse",
        "description": "Paginated chat history."
      },
      "ChunkUpdate": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "ChunkUpdate"
      },
      "CommunityResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "level": {
            "type": "integer",
            "title": "Level"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "rating": {
            "type": "number",
            "title": "Rating",
            "default": 0
          },
          "key_entities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Entities"
          },
          "findings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Findings"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "is_stale": {
            "type": "boolean",
            "title": "Is Stale"
          },
          "last_updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "level",
          "status",
          "is_stale"
        ],
        "title": "CommunityResponse"
      },
      "ConfigSchemaField": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "default": {
            "title": "Default"
          },
          "min": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min"
          },
          "max": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max"
          },
          "step": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step"
          },
          "options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options"
          },
          "group": {
            "type": "string",
            "title": "Group",
            "default": "general"
          },
          "read_only": {
            "type": "boolean",
            "title": "Read Only",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "type",
          "label",
          "description",
          "default"
        ],
        "title": "ConfigSchemaField",
        "description": "Schema field definition for UI rendering."
      },
      "ConfigSchemaResponse": {
        "properties": {
          "fields": {
            "items": {
              "$ref": "#/components/schemas/ConfigSchemaField"
            },
            "type": "array",
            "title": "Fields"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Groups"
          }
        },
        "type": "object",
        "required": [
          "fields",
          "groups"
        ],
        "title": "ConfigSchemaResponse",
        "description": "Configuration schema for form generation."
      },
      "ConnectorAuthRequest": {
        "properties": {
          "credentials": {
            "additionalProperties": true,
            "type": "object",
            "title": "Credentials"
          }
        },
        "type": "object",
        "required": [
          "credentials"
        ],
        "title": "ConnectorAuthRequest",
        "description": "Authentication credentials for a connector."
      },
      "ConnectorStatusResponse": {
        "properties": {
          "connector_type": {
            "type": "string",
            "title": "Connector Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "is_authenticated": {
            "type": "boolean",
            "title": "Is Authenticated"
          },
          "last_sync_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Sync At"
          },
          "items_synced": {
            "type": "integer",
            "title": "Items Synced",
            "default": 0
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "connector_type",
          "status",
          "is_authenticated"
        ],
        "title": "ConnectorStatusResponse",
        "description": "Status of a connector."
      },
      "ConnectorSyncRequest": {
        "properties": {
          "full_sync": {
            "type": "boolean",
            "title": "Full Sync",
            "default": false
          }
        },
        "type": "object",
        "title": "ConnectorSyncRequest",
        "description": "Options for triggering a sync."
      },
      "ContextGraphStats": {
        "properties": {
          "total_conversations": {
            "type": "integer",
            "title": "Total Conversations"
          },
          "total_turns": {
            "type": "integer",
            "title": "Total Turns"
          },
          "total_feedback": {
            "type": "integer",
            "title": "Total Feedback"
          },
          "positive_feedback": {
            "type": "integer",
            "title": "Positive Feedback"
          },
          "negative_feedback": {
            "type": "integer",
            "title": "Negative Feedback"
          }
        },
        "type": "object",
        "required": [
          "total_conversations",
          "total_turns",
          "total_feedback",
          "positive_feedback",
          "negative_feedback"
        ],
        "title": "ContextGraphStats",
        "description": "Statistics about the Context Graph."
      },
      "ConversationDetail": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "trace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace Id"
          },
          "query_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query Text"
          },
          "response_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Text"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens"
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "cost": {
            "type": "number",
            "title": "Cost"
          },
          "feedback": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "tenant_id",
          "model",
          "provider",
          "input_tokens",
          "output_tokens",
          "total_tokens",
          "cost",
          "metadata",
          "created_at"
        ],
        "title": "ConversationDetail",
        "description": "Full conversation details."
      },
      "ConversationGraphItem": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "turn_count": {
            "type": "integer",
            "title": "Turn Count"
          },
          "last_query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Query"
          },
          "last_active": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Active"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "created_at",
          "turn_count",
          "last_query",
          "last_active"
        ],
        "title": "ConversationGraphItem",
        "description": "Conversation item for the list view."
      },
      "CreateKeyRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "default": [
              "admin",
              "active_user"
            ]
          },
          "prefix": {
            "type": "string",
            "maxLength": 10,
            "minLength": 2,
            "title": "Prefix",
            "default": "amber"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateKeyRequest",
        "description": "Request to create a new API key."
      },
      "CreatedKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "prefix": {
            "type": "string",
            "title": "Prefix"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "default": []
          },
          "tenants": {
            "items": {
              "$ref": "#/components/schemas/ApiKeyTenantInfo"
            },
            "type": "array",
            "title": "Tenants",
            "default": []
          },
          "last_chars": {
            "type": "string",
            "title": "Last Chars"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          },
          "key": {
            "type": "string",
            "title": "Key"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "prefix",
          "is_active",
          "last_chars",
          "created_at",
          "key"
        ],
        "title": "CreatedKeyResponse",
        "description": "Response including the raw secret key (only shown once)."
      },
      "CurationStats": {
        "properties": {
          "total_flags": {
            "type": "integer",
            "title": "Total Flags"
          },
          "pending_count": {
            "type": "integer",
            "title": "Pending Count"
          },
          "accepted_count": {
            "type": "integer",
            "title": "Accepted Count"
          },
          "rejected_count": {
            "type": "integer",
            "title": "Rejected Count"
          },
          "merged_count": {
            "type": "integer",
            "title": "Merged Count"
          },
          "avg_resolution_time_hours": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Resolution Time Hours"
          },
          "flags_by_type": {
            "additionalProperties": true,
            "type": "object",
            "title": "Flags By Type"
          }
        },
        "type": "object",
        "required": [
          "total_flags",
          "pending_count",
          "accepted_count",
          "rejected_count",
          "merged_count",
          "flags_by_type"
        ],
        "title": "CurationStats",
        "description": "Curation queue statistics."
      },
      "DatabaseStats": {
        "properties": {
          "documents_total": {
            "type": "integer",
            "title": "Documents Total",
            "default": 0
          },
          "documents_ready": {
            "type": "integer",
            "title": "Documents Ready",
            "default": 0
          },
          "documents_processing": {
            "type": "integer",
            "title": "Documents Processing",
            "default": 0
          },
          "documents_failed": {
            "type": "integer",
            "title": "Documents Failed",
            "default": 0
          },
          "chunks_total": {
            "type": "integer",
            "title": "Chunks Total",
            "default": 0
          },
          "entities_total": {
            "type": "integer",
            "title": "Entities Total",
            "default": 0
          },
          "relationships_total": {
            "type": "integer",
            "title": "Relationships Total",
            "default": 0
          },
          "communities_total": {
            "type": "integer",
            "title": "Communities Total",
            "default": 0
          }
        },
        "type": "object",
        "title": "DatabaseStats",
        "description": "Database statistics."
      },
      "DatasetInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "sample_count": {
            "type": "integer",
            "title": "Sample Count"
          },
          "path": {
            "type": "string",
            "title": "Path"
          }
        },
        "type": "object",
        "required": [
          "name",
          "sample_count",
          "path"
        ],
        "title": "DatasetInfo",
        "description": "Information about a golden dataset."
      },
      "DateRange": {
        "properties": {
          "start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start",
            "description": "Start of date range"
          },
          "end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End",
            "description": "End of date range"
          }
        },
        "type": "object",
        "title": "DateRange",
        "description": "Date range filter for queries."
      },
      "DefaultPromptsResponse": {
        "properties": {
          "rag_system_prompt": {
            "type": "string",
            "title": "Rag System Prompt"
          },
          "rag_user_prompt": {
            "type": "string",
            "title": "Rag User Prompt"
          },
          "agent_system_prompt": {
            "type": "string",
            "title": "Agent System Prompt"
          },
          "community_summary_prompt": {
            "type": "string",
            "title": "Community Summary Prompt"
          },
          "fact_extraction_prompt": {
            "type": "string",
            "title": "Fact Extraction Prompt"
          }
        },
        "type": "object",
        "required": [
          "rag_system_prompt",
          "rag_user_prompt",
          "agent_system_prompt",
          "community_summary_prompt",
          "fact_extraction_prompt"
        ],
        "title": "DefaultPromptsResponse",
        "description": "Default prompt templates."
      },
      "DependencyStatus": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "DependencyStatus",
        "description": "Individual dependency status."
      },
      "DocumentResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id"
          },
          "source_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Type",
            "default": "upload"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "default": []
          },
          "hashtags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hashtags",
            "default": []
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "stats": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stats"
          }
        },
        "type": "object",
        "required": [
          "id",
          "filename",
          "title",
          "status",
          "tenant_id",
          "created_at"
        ],
        "title": "DocumentResponse",
        "description": "Response model for document details."
      },
      "DocumentUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id"
          }
        },
        "type": "object",
        "title": "DocumentUpdate",
        "description": "Schema for updating a document."
      },
      "DocumentUploadResponse": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "events_url": {
            "type": "string",
            "title": "Events Url"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "status",
          "events_url",
          "message"
        ],
        "title": "DocumentUploadResponse",
        "description": "Response model for document upload."
      },
      "EdgeRequest": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source"
          },
          "target": {
            "type": "string",
            "title": "Target"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "default": "RELATED_TO"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "source",
          "target"
        ],
        "title": "EdgeRequest"
      },
      "ExportJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress"
          },
          "download_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Url"
          },
          "file_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status"
        ],
        "title": "ExportJobResponse",
        "description": "Response for export job creation/status."
      },
      "FeedbackCreate": {
        "properties": {
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "is_positive": {
            "type": "boolean",
            "title": "Is Positive"
          },
          "score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Score"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "correction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correction"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "is_positive"
        ],
        "title": "FeedbackCreate"
      },
      "FeedbackGraphItem": {
        "properties": {
          "feedback_id": {
            "type": "string",
            "title": "Feedback Id"
          },
          "is_positive": {
            "type": "boolean",
            "title": "Is Positive"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "turn_query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turn Query"
          },
          "turn_answer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turn Answer"
          },
          "turn_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Turn Id"
          },
          "chunks_affected": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Chunks Affected"
          }
        },
        "type": "object",
        "required": [
          "feedback_id",
          "is_positive",
          "comment",
          "created_at",
          "turn_query",
          "turn_answer",
          "turn_id",
          "chunks_affected"
        ],
        "title": "FeedbackGraphItem",
        "description": "Feedback node from Context Graph with related turn/chunk info."
      },
      "FeedbackResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "request_id": {
            "type": "string",
            "title": "Request Id"
          },
          "is_positive": {
            "type": "boolean",
            "title": "Is Positive"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          }
        },
        "type": "object",
        "required": [
          "id",
          "request_id",
          "is_positive"
        ],
        "title": "FeedbackResponse"
      },
      "FlagContext": {
        "properties": {
          "query_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Query Text"
          },
          "chunk_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Text"
          },
          "chunk_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Id"
          },
          "entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Id"
          },
          "entity_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Name"
          },
          "relationship_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationship Id"
          },
          "document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Id"
          },
          "document_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Title"
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id"
          },
          "retrieval_trace": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retrieval Trace"
          }
        },
        "type": "object",
        "title": "FlagContext",
        "description": "Context information for a flag."
      },
      "FlagCreateRequest": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "flag_type": {
            "type": "string",
            "title": "Flag Type"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "reported_by": {
            "type": "string",
            "title": "Reported By",
            "default": "analyst"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FlagContext"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "tenant_id",
          "flag_type",
          "target_type",
          "target_id"
        ],
        "title": "FlagCreateRequest",
        "description": "Create flag request."
      },
      "FlagDetail": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "reported_by": {
            "type": "string",
            "title": "Reported By"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "snippet_preview": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Snippet Preview"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "resolved_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved At"
          },
          "resolved_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved By"
          },
          "context": {
            "$ref": "#/components/schemas/FlagContext"
          },
          "resolution_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolution Notes"
          },
          "merge_target_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Merge Target Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "type",
          "status",
          "reported_by",
          "target_type",
          "target_id",
          "created_at",
          "context"
        ],
        "title": "FlagDetail",
        "description": "Detailed flag information including context."
      },
      "FlagListResponse": {
        "properties": {
          "flags": {
            "items": {
              "$ref": "#/components/schemas/FlagSummary"
            },
            "type": "array",
            "title": "Flags"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "pending_count": {
            "type": "integer",
            "title": "Pending Count"
          },
          "resolved_count": {
            "type": "integer",
            "title": "Resolved Count"
          }
        },
        "type": "object",
        "required": [
          "flags",
          "total",
          "pending_count",
          "resolved_count"
        ],
        "title": "FlagListResponse",
        "description": "List of flags response."
      },
      "FlagResolution": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Resolution action: accept, reject, merge"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Resolution notes"
          },
          "merge_target_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Merge Target Id",
            "description": "Target entity ID for merge action"
          }
        },
        "type": "object",
        "required": [
          "action"
        ],
        "title": "FlagResolution",
        "description": "Flag resolution request."
      },
      "FlagSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "reported_by": {
            "type": "string",
            "title": "Reported By"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "snippet_preview": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Snippet Preview"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "resolved_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved At"
          },
          "resolved_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved By"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "type",
          "status",
          "reported_by",
          "target_type",
          "target_id",
          "created_at"
        ],
        "title": "FlagSummary",
        "description": "Summary of a flag for list views."
      },
      "FolderCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "FolderCreate"
      },
      "FolderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "name",
          "created_at"
        ],
        "title": "FolderResponse"
      },
      "GraphData": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/GraphNode"
            },
            "type": "array",
            "title": "Nodes"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/GraphEdge"
            },
            "type": "array",
            "title": "Edges"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges"
        ],
        "title": "GraphData"
      },
      "GraphEdge": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source"
          },
          "target": {
            "type": "string",
            "title": "Target"
          },
          "type": {
            "type": "string",
            "title": "Type"
          }
        },
        "type": "object",
        "required": [
          "source",
          "target",
          "type"
        ],
        "title": "GraphEdge"
      },
      "GraphEditHistoryCreate": {
        "properties": {
          "action_type": {
            "type": "string",
            "enum": [
              "connect",
              "merge",
              "prune",
              "heal",
              "delete_edge",
              "delete_node"
            ],
            "title": "Action Type"
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload"
          },
          "snapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Snapshot"
          },
          "source_view": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source View"
          }
        },
        "type": "object",
        "required": [
          "action_type",
          "payload"
        ],
        "title": "GraphEditHistoryCreate",
        "description": "Request to create a pending graph edit."
      },
      "GraphEditHistoryListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/GraphEditHistoryResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "GraphEditHistoryListResponse",
        "description": "Paginated list of history entries."
      },
      "GraphEditHistoryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "action_type": {
            "type": "string",
            "title": "Action Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload"
          },
          "snapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Snapshot"
          },
          "source_view": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source View"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "applied_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Applied At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "action_type",
          "status",
          "payload",
          "created_at"
        ],
        "title": "GraphEditHistoryResponse",
        "description": "Response model for a graph edit history entry."
      },
      "GraphNode": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type",
            "default": "Entity"
          },
          "community_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Id"
          },
          "degree": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Degree"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label"
        ],
        "title": "GraphNode"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealRequest": {
        "properties": {
          "node_id": {
            "type": "string",
            "title": "Node Id"
          }
        },
        "type": "object",
        "required": [
          "node_id"
        ],
        "title": "HealRequest"
      },
      "HealingSuggestion": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "confidence": {
            "type": "number",
            "title": "Confidence"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "confidence",
          "reason"
        ],
        "title": "HealingSuggestion"
      },
      "IngestItemsRequest": {
        "properties": {
          "item_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Item Ids"
          }
        },
        "type": "object",
        "required": [
          "item_ids"
        ],
        "title": "IngestItemsRequest",
        "description": "Request to ingest specific items."
      },
      "JobInfo": {
        "properties": {
          "task_id": {
            "type": "string",
            "title": "Task Id"
          },
          "task_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress"
          },
          "progress_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Message"
          },
          "result": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "runtime_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Runtime Seconds"
          },
          "retries": {
            "type": "integer",
            "title": "Retries",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "status"
        ],
        "title": "JobInfo",
        "description": "Job information response."
      },
      "JobListResponse": {
        "properties": {
          "jobs": {
            "items": {
              "$ref": "#/components/schemas/JobInfo"
            },
            "type": "array",
            "title": "Jobs"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "active_count": {
            "type": "integer",
            "title": "Active Count"
          },
          "reserved_count": {
            "type": "integer",
            "title": "Reserved Count"
          }
        },
        "type": "object",
        "required": [
          "jobs",
          "total",
          "active_count",
          "reserved_count"
        ],
        "title": "JobListResponse",
        "description": "List of jobs response."
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "STARTED",
          "PROGRESS",
          "SUCCESS",
          "FAILURE",
          "REVOKED",
          "RETRY"
        ],
        "title": "JobStatus",
        "description": "Celery task states."
      },
      "KeyTenantLink": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "default": "user"
          }
        },
        "type": "object",
        "required": [
          "tenant_id"
        ],
        "title": "KeyTenantLink"
      },
      "LivenessResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "version": {
            "type": "string",
            "title": "Version"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "version"
        ],
        "title": "LivenessResponse",
        "description": "Liveness probe response."
      },
      "MaintenanceResult": {
        "properties": {
          "operation": {
            "type": "string",
            "title": "Operation"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "items_affected": {
            "type": "integer",
            "title": "Items Affected",
            "default": 0
          },
          "duration_seconds": {
            "type": "number",
            "title": "Duration Seconds",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "operation",
          "status",
          "message"
        ],
        "title": "MaintenanceResult",
        "description": "Result of a maintenance operation."
      },
      "MeResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "default": []
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "MeResponse",
        "description": "Current API key information including scopes."
      },
      "MergeRequest": {
        "properties": {
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "source_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Source Ids"
          }
        },
        "type": "object",
        "required": [
          "target_id",
          "source_ids"
        ],
        "title": "MergeRequest"
      },
      "PaginationResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "data": {
            "items": {},
            "type": "array",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "size",
          "data"
        ],
        "title": "PaginationResponse"
      },
      "ProviderInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "available": {
            "type": "boolean",
            "title": "Available"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Models",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "name",
          "label",
          "available"
        ],
        "title": "ProviderInfo",
        "description": "Information about a provider."
      },
      "QueryFilters": {
        "properties": {
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Limit search to specific documents"
          },
          "date_range": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DateRange"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by document date range"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Filter by document tags"
          }
        },
        "type": "object",
        "title": "QueryFilters",
        "description": "Filters to narrow query scope."
      },
      "QueryOptions": {
        "properties": {
          "search_mode": {
            "$ref": "#/components/schemas/SearchMode",
            "description": "Search strategy to use (default: basic)",
            "default": "basic"
          },
          "use_hyde": {
            "type": "boolean",
            "title": "Use Hyde",
            "description": "Use Hypothetical Document Embeddings",
            "default": false
          },
          "use_rewrite": {
            "type": "boolean",
            "title": "Use Rewrite",
            "description": "Enable query rewriting for better context resolution",
            "default": true
          },
          "use_decomposition": {
            "type": "boolean",
            "title": "Use Decomposition",
            "description": "Enable query decomposition for complex questions",
            "default": false
          },
          "include_trace": {
            "type": "boolean",
            "title": "Include Trace",
            "description": "Include execution trace in response",
            "default": false
          },
          "max_chunks": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Max Chunks",
            "description": "Maximum chunks to retrieve",
            "default": 10
          },
          "traversal_depth": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Traversal Depth",
            "description": "Graph traversal depth for entity expansion",
            "default": 2
          },
          "include_sources": {
            "type": "boolean",
            "title": "Include Sources",
            "description": "Include source citations in response",
            "default": true
          },
          "stream": {
            "type": "boolean",
            "title": "Stream",
            "description": "Stream response tokens (SSE)",
            "default": false
          },
          "agent_mode": {
            "type": "boolean",
            "title": "Agent Mode",
            "description": "Enable Agentic RAG mode (loop + tools)",
            "default": false
          },
          "agent_role": {
            "type": "string",
            "pattern": "^(knowledge|maintainer)$",
            "title": "Agent Role",
            "description": "Agent role: 'knowledge' (default, RAG tools only) or 'maintainer' (filesystem access)",
            "default": "knowledge"
          }
        },
        "type": "object",
        "title": "QueryOptions",
        "description": "Options controlling query behavior."
      },
      "QueryRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Query",
            "description": "The question or query to answer"
          },
          "filters": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/QueryFilters"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional filters to narrow scope"
          },
          "options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/QueryOptions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Query execution options"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "Conversation ID for multi-turn context"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "QueryRequest",
        "description": "Query request payload.",
        "example": {
          "options": {
            "include_trace": true,
            "max_chunks": 5
          },
          "query": "What are the main features of the GraphRAG system?"
        }
      },
      "QueryResponse": {
        "properties": {
          "answer": {
            "type": "string",
            "title": "Answer",
            "description": "Generated answer"
          },
          "sources": {
            "items": {
              "$ref": "#/components/schemas/Source"
            },
            "type": "array",
            "title": "Sources",
            "description": "Source citations"
          },
          "trace": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/TraceStep"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trace",
            "description": "Execution trace (if requested)"
          },
          "timing": {
            "$ref": "#/components/schemas/TimingInfo",
            "description": "Timing information"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "Conversation ID for follow-up queries"
          },
          "follow_up_questions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Questions",
            "description": "Suggested follow-up questions"
          }
        },
        "type": "object",
        "required": [
          "answer",
          "timing"
        ],
        "title": "QueryResponse",
        "description": "Query response payload.",
        "example": {
          "answer": "The GraphRAG system combines vector similarity search with knowledge graph reasoning...",
          "sources": [
            {
              "chunk_id": "chunk_abc123_00001",
              "document_id": "doc_abc123",
              "document_name": "architecture.pdf",
              "page": 5,
              "score": 0.92,
              "text": "The system integrates vector and graph retrieval..."
            }
          ],
          "timing": {
            "generation_ms": 1000.2,
            "retrieval_ms": 200.3,
            "total_ms": 1250.5
          }
        }
      },
      "QueueInfo": {
        "properties": {
          "queue_name": {
            "type": "string",
            "title": "Queue Name"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          },
          "consumer_count": {
            "type": "integer",
            "title": "Consumer Count"
          }
        },
        "type": "object",
        "required": [
          "queue_name",
          "message_count",
          "consumer_count"
        ],
        "title": "QueueInfo",
        "description": "Queue status information."
      },
      "QueuesResponse": {
        "properties": {
          "queues": {
            "items": {
              "$ref": "#/components/schemas/QueueInfo"
            },
            "type": "array",
            "title": "Queues"
          },
          "workers": {
            "items": {
              "$ref": "#/components/schemas/WorkerInfo"
            },
            "type": "array",
            "title": "Workers"
          },
          "total_active_tasks": {
            "type": "integer",
            "title": "Total Active Tasks"
          }
        },
        "type": "object",
        "required": [
          "queues",
          "workers",
          "total_active_tasks"
        ],
        "title": "QueuesResponse",
        "description": "Queue and worker status response."
      },
      "ReadinessResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "dependencies": {
            "additionalProperties": {
              "$ref": "#/components/schemas/DependencyStatus"
            },
            "type": "object",
            "title": "Dependencies"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "dependencies"
        ],
        "title": "ReadinessResponse",
        "description": "Readiness probe response with dependency status."
      },
      "ReconciliationStatus": {
        "properties": {
          "sync_status": {
            "type": "string",
            "title": "Sync Status"
          },
          "last_sync_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Sync At"
          },
          "sync_lag_seconds": {
            "type": "number",
            "title": "Sync Lag Seconds",
            "default": 0
          },
          "pending_writes": {
            "type": "integer",
            "title": "Pending Writes",
            "default": 0
          },
          "failed_writes": {
            "type": "integer",
            "title": "Failed Writes",
            "default": 0
          },
          "retry_queue_depth": {
            "type": "integer",
            "title": "Retry Queue Depth",
            "default": 0
          },
          "errors": {
            "items": {},
            "type": "array",
            "title": "Errors"
          }
        },
        "type": "object",
        "required": [
          "sync_status"
        ],
        "title": "ReconciliationStatus",
        "description": "Dual-write reconciliation status."
      },
      "ResponseSchema_Any_": {
        "properties": {
          "data": {
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[Any]"
      },
      "ResponseSchema_ConnectorStatusResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConnectorStatusResponse"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[ConnectorStatusResponse]"
      },
      "ResponseSchema_FeedbackResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/FeedbackResponse"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[FeedbackResponse]"
      },
      "ResponseSchema_List_Any__": {
        "properties": {
          "data": {
            "items": {},
            "type": "array",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[List[Any]]"
      },
      "ResponseSchema_RuleResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/RuleResponse"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[RuleResponse]"
      },
      "ResponseSchema_SeedResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SeedResponse"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[SeedResponse]"
      },
      "ResponseSchema_SyncJobResponse_": {
        "properties": {
          "data": {
            "$ref": "#/components/schemas/SyncJobResponse"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[SyncJobResponse]"
      },
      "ResponseSchema_bool_": {
        "properties": {
          "data": {
            "type": "boolean",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[bool]"
      },
      "ResponseSchema_dict_": {
        "properties": {
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[dict]"
      },
      "ResponseSchema_dict_str__Any__": {
        "properties": {
          "data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[dict[str, Any]]"
      },
      "ResponseSchema_list_RuleResponse__": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/RuleResponse"
            },
            "type": "array",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[list[RuleResponse]]"
      },
      "ResponseSchema_list_dict__": {
        "properties": {
          "data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[list[dict]]"
      },
      "ResponseSchema_list_str__": {
        "properties": {
          "data": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ResponseSchema[list[str]]"
      },
      "RetrievalWeights": {
        "properties": {
          "vector_weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Vector Weight",
            "description": "Vector search weight",
            "default": 0.35
          },
          "graph_weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Graph Weight",
            "description": "Graph search weight",
            "default": 0.35
          },
          "rerank_weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Rerank Weight",
            "description": "Reranking influence",
            "default": 0.3
          }
        },
        "type": "object",
        "title": "RetrievalWeights",
        "description": "Retrieval fusion weights."
      },
      "RuleCreate": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "priority": {
            "type": "integer",
            "title": "Priority",
            "default": 100
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "RuleCreate"
      },
      "RuleResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "created_at": {
            "title": "Created At"
          },
          "updated_at": {
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content",
          "category",
          "priority",
          "is_active",
          "source",
          "created_at",
          "updated_at"
        ],
        "title": "RuleResponse"
      },
      "RuleUpdate": {
        "properties": {
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "RuleUpdate"
      },
      "RunBenchmarkRequest": {
        "properties": {
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "metrics": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Metrics",
            "default": [
              "faithfulness",
              "response_relevancy"
            ]
          }
        },
        "type": "object",
        "required": [
          "dataset_name"
        ],
        "title": "RunBenchmarkRequest",
        "description": "Request to trigger a benchmark run."
      },
      "RunBenchmarkResponse": {
        "properties": {
          "benchmark_run_id": {
            "type": "string",
            "title": "Benchmark Run Id"
          },
          "task_id": {
            "type": "string",
            "title": "Task Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "benchmark_run_id",
          "task_id",
          "status",
          "message"
        ],
        "title": "RunBenchmarkResponse",
        "description": "Response after triggering a benchmark."
      },
      "SearchMode": {
        "type": "string",
        "enum": [
          "basic",
          "local",
          "global",
          "drift",
          "structured"
        ],
        "title": "SearchMode",
        "description": "Available search strategies."
      },
      "SeedRequest": {
        "properties": {
          "dataset": {
            "type": "string",
            "title": "Dataset",
            "default": "solar_system"
          }
        },
        "type": "object",
        "title": "SeedRequest",
        "description": "Request to seed sample data."
      },
      "SeedResponse": {
        "properties": {
          "documents_created": {
            "type": "integer",
            "title": "Documents Created"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "documents_created",
          "dataset_name",
          "message"
        ],
        "title": "SeedResponse",
        "description": "Response after seeding."
      },
      "SetupStatusResponse": {
        "properties": {
          "initialized": {
            "type": "boolean",
            "title": "Initialized"
          },
          "setup_complete": {
            "type": "boolean",
            "title": "Setup Complete"
          },
          "db_migration_needed": {
            "type": "boolean",
            "title": "Db Migration Needed",
            "default": false
          },
          "features": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Features"
          },
          "summary": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Summary"
          }
        },
        "type": "object",
        "required": [
          "initialized",
          "setup_complete",
          "features",
          "summary"
        ],
        "title": "SetupStatusResponse",
        "description": "Setup status response."
      },
      "Source": {
        "properties": {
          "chunk_id": {
            "type": "string",
            "title": "Chunk Id",
            "description": "Chunk identifier"
          },
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Parent document identifier"
          },
          "document_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Name",
            "description": "Document filename"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Relevant text excerpt"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "Relevance score (0-1)"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page",
            "description": "Page number if applicable"
          }
        },
        "type": "object",
        "required": [
          "chunk_id",
          "document_id",
          "text",
          "score"
        ],
        "title": "Source",
        "description": "A source citation for an answer."
      },
      "StartExportResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "message"
        ],
        "title": "StartExportResponse",
        "description": "Response when starting a bulk export."
      },
      "StructuredQueryResponse": {
        "properties": {
          "query_type": {
            "type": "string",
            "title": "Query Type",
            "description": "Type of structured query executed"
          },
          "data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Data",
            "description": "Tabular result data"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of results"
          },
          "timing": {
            "$ref": "#/components/schemas/TimingInfo",
            "description": "Timing information"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Human-readable summary of results"
          }
        },
        "type": "object",
        "required": [
          "query_type",
          "count",
          "timing"
        ],
        "title": "StructuredQueryResponse",
        "description": "Response for structured queries (list, count, aggregates).",
        "example": {
          "count": 2,
          "data": [
            {
              "filename": "report.pdf",
              "id": "doc_123",
              "status": "ready"
            },
            {
              "filename": "analysis.docx",
              "id": "doc_456",
              "status": "ready"
            }
          ],
          "message": "Found 2 documents",
          "query_type": "list_documents",
          "timing": {
            "total_ms": 45.2
          }
        }
      },
      "SyncJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "message"
        ],
        "title": "SyncJobResponse",
        "description": "Response when a sync job is started."
      },
      "SystemStats": {
        "properties": {
          "database": {
            "$ref": "#/components/schemas/DatabaseStats"
          },
          "cache": {
            "$ref": "#/components/schemas/CacheStats"
          },
          "vector_store": {
            "$ref": "#/components/schemas/VectorStoreStats"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "database",
          "cache",
          "vector_store",
          "timestamp"
        ],
        "title": "SystemStats",
        "description": "Combined system statistics."
      },
      "TenantConfigResponse": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config"
          },
          "weights": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RetrievalWeights"
              },
              {
                "type": "null"
              }
            ]
          },
          "top_k": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Top K",
            "default": 10
          },
          "expansion_depth": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Expansion Depth",
            "default": 2
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "default": 0.7
          },
          "reranking_enabled": {
            "type": "boolean",
            "title": "Reranking Enabled",
            "default": true
          },
          "hyde_enabled": {
            "type": "boolean",
            "title": "Hyde Enabled",
            "default": false
          },
          "graph_expansion_enabled": {
            "type": "boolean",
            "title": "Graph Expansion Enabled",
            "default": true
          },
          "llm_provider": {
            "type": "string",
            "title": "Llm Provider"
          },
          "llm_model": {
            "type": "string",
            "title": "Llm Model"
          },
          "embedding_provider": {
            "type": "string",
            "title": "Embedding Provider"
          },
          "embedding_model": {
            "type": "string",
            "title": "Embedding Model"
          },
          "rag_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rag System Prompt"
          },
          "rag_user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rag User Prompt"
          },
          "agent_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent System Prompt"
          },
          "community_summary_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Summary Prompt"
          },
          "fact_extraction_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fact Extraction Prompt"
          },
          "hybrid_ocr_enabled": {
            "type": "boolean",
            "title": "Hybrid Ocr Enabled",
            "default": true
          },
          "ocr_text_density_threshold": {
            "type": "integer",
            "title": "Ocr Text Density Threshold",
            "default": 50
          }
        },
        "type": "object",
        "required": [
          "tenant_id",
          "config"
        ],
        "title": "TenantConfigResponse",
        "description": "Tenant configuration response."
      },
      "TenantConfigUpdate": {
        "properties": {
          "top_k": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Top K"
          },
          "expansion_depth": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expansion Depth"
          },
          "similarity_threshold": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Threshold"
          },
          "weights": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RetrievalWeights"
              },
              {
                "type": "null"
              }
            ]
          },
          "reranking_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reranking Enabled"
          },
          "hyde_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hyde Enabled"
          },
          "graph_expansion_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Graph Expansion Enabled"
          },
          "llm_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Provider"
          },
          "llm_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Model"
          },
          "embedding_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Provider"
          },
          "embedding_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding Model"
          },
          "rag_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rag System Prompt"
          },
          "rag_user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rag User Prompt"
          },
          "agent_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent System Prompt"
          },
          "community_summary_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Summary Prompt"
          },
          "fact_extraction_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fact Extraction Prompt"
          },
          "hybrid_ocr_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hybrid Ocr Enabled"
          },
          "ocr_text_density_threshold": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocr Text Density Threshold"
          }
        },
        "type": "object",
        "title": "TenantConfigUpdate",
        "description": "Tenant configuration update request."
      },
      "TenantCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "api_key_prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Prefix"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "TenantCreate"
      },
      "TenantKeySummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "prefix": {
            "type": "string",
            "title": "Prefix"
          },
          "last_chars": {
            "type": "string",
            "title": "Last Chars"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "prefix",
          "last_chars",
          "is_active"
        ],
        "title": "TenantKeySummary"
      },
      "TenantResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "api_key_prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Prefix"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "default": {}
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "api_keys": {
            "items": {
              "$ref": "#/components/schemas/TenantKeySummary"
            },
            "type": "array",
            "title": "Api Keys",
            "default": []
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "api_key_prefix",
          "is_active"
        ],
        "title": "TenantResponse"
      },
      "TenantUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "api_key_prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Prefix"
          },
          "config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "TenantUpdate"
      },
      "TimingInfo": {
        "properties": {
          "total_ms": {
            "type": "number",
            "title": "Total Ms",
            "description": "Total query time in milliseconds"
          },
          "analysis_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analysis Ms",
            "description": "Query analysis and routing time"
          },
          "retrieval_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retrieval Ms",
            "description": "Retrieval phase time"
          },
          "reranking_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reranking Ms",
            "description": "Reranking phase time"
          },
          "generation_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generation Ms",
            "description": "Generation phase time"
          }
        },
        "type": "object",
        "required": [
          "total_ms"
        ],
        "title": "TimingInfo",
        "description": "Timing breakdown for the query."
      },
      "TraceStep": {
        "properties": {
          "step": {
            "type": "string",
            "title": "Step",
            "description": "Step name"
          },
          "duration_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Ms",
            "description": "Step duration in milliseconds",
            "default": 0.0
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Step-specific details"
          }
        },
        "type": "object",
        "required": [
          "step"
        ],
        "title": "TraceStep",
        "description": "A single step in the query execution trace."
      },
      "UpdateKeyRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "scopes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scopes"
          }
        },
        "type": "object",
        "title": "UpdateKeyRequest",
        "description": "Request to update an existing API key."
      },
      "ValidateProviderRequest": {
        "properties": {
          "provider_type": {
            "type": "string",
            "title": "Provider Type"
          },
          "provider_name": {
            "type": "string",
            "title": "Provider Name"
          }
        },
        "type": "object",
        "required": [
          "provider_type",
          "provider_name"
        ],
        "title": "ValidateProviderRequest",
        "description": "Request to validate a specific provider."
      },
      "ValidateProviderResponse": {
        "properties": {
          "available": {
            "type": "boolean",
            "title": "Available"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "models": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Models",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "available"
        ],
        "title": "ValidateProviderResponse",
        "description": "Response from provider validation."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VectorCollectionInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "dimensions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dimensions"
          },
          "index_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Index Type"
          },
          "memory_mb": {
            "type": "number",
            "title": "Memory Mb",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "name",
          "count"
        ],
        "title": "VectorCollectionInfo",
        "description": "Information about a single vector collection."
      },
      "VectorCollectionsResponse": {
        "properties": {
          "collections": {
            "items": {
              "$ref": "#/components/schemas/VectorCollectionInfo"
            },
            "type": "array",
            "title": "Collections"
          }
        },
        "type": "object",
        "required": [
          "collections"
        ],
        "title": "VectorCollectionsResponse",
        "description": "Response with all vector collections info."
      },
      "VectorStoreStats": {
        "properties": {
          "collections_count": {
            "type": "integer",
            "title": "Collections Count",
            "default": 0
          },
          "vectors_total": {
            "type": "integer",
            "title": "Vectors Total",
            "default": 0
          },
          "index_size_bytes": {
            "type": "integer",
            "title": "Index Size Bytes",
            "default": 0
          }
        },
        "type": "object",
        "title": "VectorStoreStats",
        "description": "Vector store statistics."
      },
      "WorkerInfo": {
        "properties": {
          "hostname": {
            "type": "string",
            "title": "Hostname"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "active_tasks": {
            "type": "integer",
            "title": "Active Tasks"
          },
          "processed_total": {
            "type": "integer",
            "title": "Processed Total"
          },
          "concurrency": {
            "type": "integer",
            "title": "Concurrency"
          },
          "queues": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Queues"
          }
        },
        "type": "object",
        "required": [
          "hostname",
          "status",
          "active_tasks",
          "processed_total",
          "concurrency",
          "queues"
        ],
        "title": "WorkerInfo",
        "description": "Worker status information."
      }
    }
  },
  "tags": [
    {
      "name": "health",
      "description": "Health check endpoints for liveness and readiness probes"
    },
    {
      "name": "query",
      "description": "Query the knowledge base and get answers"
    },
    {
      "name": "documents",
      "description": "Document upload, management, and retrieval"
    }
  ]
}
